{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/Fablab Makandura/Documents/GitHub/react/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/Fablab Makandura/Documents/GitHub/react/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/Fablab Makandura/Documents/GitHub/react/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState}from\"react\";import{auth,db}from\"../firebase\";import{addDoc,collection,serverTimestamp}from\"firebase/firestore\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var SendMessage=function SendMessage(_ref){var scroll=_ref.scroll;var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),message=_useState2[0],setMessage=_useState2[1];var sendMessage=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(event){var _auth$currentUser,uid,displayName,photoURL;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:event.preventDefault();if(!(message.trim()===\"\")){_context.next=4;break;}alert(\"Enter valid message\");return _context.abrupt(\"return\");case 4:_auth$currentUser=auth.currentUser,uid=_auth$currentUser.uid,displayName=_auth$currentUser.displayName,photoURL=_auth$currentUser.photoURL;_context.next=7;return addDoc(collection(db,\"messages\"),{text:message,name:displayName,avatar:photoURL,createdAt:serverTimestamp(),uid:uid});case 7:setMessage(\"\");scroll.current.scrollIntoView({behavior:\"smooth\"});case 9:case\"end\":return _context.stop();}}},_callee);}));return function sendMessage(_x){return _ref2.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(\"form\",{onSubmit:function onSubmit(event){return sendMessage(event);},className:\"send-message\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"messageInput\",hidden:true,children:\"Enter Message\"}),/*#__PURE__*/_jsx(\"input\",{id:\"messageInput\",name:\"messageInput\",type:\"text\",className:\"form-input__input\",placeholder:\"type message...\",value:message,onChange:function onChange(e){return setMessage(e.target.value);}}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"Send\"})]});};export default SendMessage;","map":{"version":3,"names":["React","useState","auth","db","addDoc","collection","serverTimestamp","SendMessage","scroll","message","setMessage","sendMessage","event","preventDefault","trim","alert","currentUser","uid","displayName","photoURL","text","name","avatar","createdAt","current","scrollIntoView","behavior","e","target","value"],"sources":["C:/Users/Fablab Makandura/Documents/GitHub/react/src/components/SendMessage.js"],"sourcesContent":["import React, { useState } from \"react\";\r\nimport { auth, db } from \"../firebase\";\r\nimport { addDoc, collection, serverTimestamp } from \"firebase/firestore\";\r\n\r\nconst SendMessage = ({ scroll }) => {\r\n  const [message, setMessage] = useState(\"\");\r\n\r\n  const sendMessage = async (event) => {\r\n    event.preventDefault();\r\n    if (message.trim() === \"\") {\r\n      alert(\"Enter valid message\");\r\n      return;\r\n    }\r\n    const { uid, displayName, photoURL } = auth.currentUser;\r\n    await addDoc(collection(db, \"messages\"), {\r\n      text: message,\r\n      name: displayName,\r\n      avatar: photoURL,\r\n      createdAt: serverTimestamp(),\r\n      uid,\r\n    });\r\n    setMessage(\"\");\r\n    scroll.current.scrollIntoView({ behavior: \"smooth\" });\r\n  };\r\n  return (\r\n    <form onSubmit={(event) => sendMessage(event)} className=\"send-message\">\r\n      <label htmlFor=\"messageInput\" hidden>\r\n        Enter Message\r\n      </label>\r\n      <input\r\n        id=\"messageInput\"\r\n        name=\"messageInput\"\r\n        type=\"text\"\r\n        className=\"form-input__input\"\r\n        placeholder=\"type message...\"\r\n        value={message}\r\n        onChange={(e) => setMessage(e.target.value)}\r\n      />\r\n      <button type=\"submit\">Send</button>\r\n    </form>\r\n  );\r\n};\r\n\r\nexport default SendMessage;\r\n"],"mappings":"kaAAA,MAAOA,MAAK,EAAIC,QAAQ,KAAQ,OAAO,CACvC,OAASC,IAAI,CAAEC,EAAE,KAAQ,aAAa,CACtC,OAASC,MAAM,CAAEC,UAAU,CAAEC,eAAe,KAAQ,oBAAoB,CAAC,wFAEzE,GAAMC,YAAW,CAAG,QAAdA,YAAW,MAAmB,IAAbC,OAAM,MAANA,MAAM,CAC3B,cAA8BP,QAAQ,CAAC,EAAE,CAAC,wCAAnCQ,OAAO,eAAEC,UAAU,eAE1B,GAAMC,YAAW,6FAAG,iBAAOC,KAAK,mKAC9BA,KAAK,CAACC,cAAc,EAAE,CAAC,KACnBJ,OAAO,CAACK,IAAI,EAAE,GAAK,EAAE,0BACvBC,KAAK,CAAC,qBAAqB,CAAC,CAAC,0DAGQb,IAAI,CAACc,WAAW,CAA/CC,GAAG,mBAAHA,GAAG,CAAEC,WAAW,mBAAXA,WAAW,CAAEC,QAAQ,mBAARA,QAAQ,uBAC5Bf,OAAM,CAACC,UAAU,CAACF,EAAE,CAAE,UAAU,CAAC,CAAE,CACvCiB,IAAI,CAAEX,OAAO,CACbY,IAAI,CAAEH,WAAW,CACjBI,MAAM,CAAEH,QAAQ,CAChBI,SAAS,CAAEjB,eAAe,EAAE,CAC5BW,GAAG,CAAHA,GACF,CAAC,CAAC,QACFP,UAAU,CAAC,EAAE,CAAC,CACdF,MAAM,CAACgB,OAAO,CAACC,cAAc,CAAC,CAAEC,QAAQ,CAAE,QAAS,CAAC,CAAC,CAAC,sDACvD,kBAhBKf,YAAW,6CAgBhB,CACD,mBACE,cAAM,QAAQ,CAAE,kBAACC,KAAK,QAAKD,YAAW,CAACC,KAAK,CAAC,EAAC,CAAC,SAAS,CAAC,cAAc,wBACrE,cAAO,OAAO,CAAC,cAAc,CAAC,MAAM,gCAE5B,cACR,cACE,EAAE,CAAC,cAAc,CACjB,IAAI,CAAC,cAAc,CACnB,IAAI,CAAC,MAAM,CACX,SAAS,CAAC,mBAAmB,CAC7B,WAAW,CAAC,iBAAiB,CAC7B,KAAK,CAAEH,OAAQ,CACf,QAAQ,CAAE,kBAACkB,CAAC,QAAKjB,WAAU,CAACiB,CAAC,CAACC,MAAM,CAACC,KAAK,CAAC,EAAC,EAC5C,cACF,eAAQ,IAAI,CAAC,QAAQ,kBAAc,GAC9B,CAEX,CAAC,CAED,cAAetB,YAAW"},"metadata":{},"sourceType":"module","externalDependencies":[]}